å¯¹ PanNuke æ•°æ®é›†è¿›è¡Œé¢„å¤„ç†ï¼Œä»¥å®ç°ç»†èƒæ ¸å®ä¾‹åˆ†å‰²å’Œåˆ†ç±»
PanNuke æ˜¯ä¸€ä¸ª H&E æŸ“è‰²å›¾åƒé›†ï¼ŒåŒ…å«æ¥è‡ª 19 ç§ä¸åŒç»„ç»‡ç±»å‹çš„ 7,904 ä¸ª 256 Ã— 256 åƒç´ çš„å›¾åƒå—ã€‚ç»†èƒæ ¸è¢«åˆ†ä¸ºè‚¿ç˜¤ç»†èƒã€ç‚ç—‡ç»†èƒã€ç»“ç¼”ç»„ç»‡/è½¯ç»„ç»‡ç»†èƒã€åæ­»ç»†èƒå’Œä¸Šçš®ç»†èƒã€‚è¯¥æ•°æ®é›†åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š

ç¬¬ä¸€é¡µåŒ…å« 2,657 å¼ å›¾ç‰‡
ç¬¬äºŒé¡µåŒ…å« 2,524 å¼ å›¾ç‰‡
æŠ˜å 3åŒ…å«2723å¼ å›¾ç‰‡
æ›´å¤šä¿¡æ¯è¯·ç‚¹å‡»æ­¤å¤„

æ‚¨å¯ä»¥ç‚¹å‡»æ­¤å¤„ä¸‹è½½æ•°æ®é›†è¡¨æ ¼ã€‚

è®¿é—®å¹¶å¼•ç”¨è®ºæ–‡TSFDå’ŒåŸå§‹ç‰ˆæœ¬

æ¥è‡ªåŸå§‹ä»“åº“çš„ç¤ºä¾‹å›¾åƒ

æ›¿ä»£æ–‡å­—

ç„¶ååŸºäºè¿™ä¸‰ä¸ªæŠ˜å ï¼Œå°†æ•°æ®é›†åˆ†æˆä¸‰ä¸ªä¸åŒçš„éƒ¨åˆ†ã€‚å…¶ä¸­ä¸¤éƒ¨åˆ†æ•°æ®ç”¨äºè®­ç»ƒ/éªŒè¯ï¼Œä¸€éƒ¨åˆ†ç”¨äºæµ‹è¯•é›†ã€‚

é¢„å¤„ç†
æ•°æ®ä¸‹è½½å®Œæˆåï¼Œæ‚¨å°†è·å¾— 3 ä¸ª.zipæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºfold1ã€fold2å’Œfold3ã€‚æ•°æ®ä»¥numpyæ•°ç»„å½¢å¼å­˜å‚¨ã€‚æå–åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

ğŸ“¦Fold 1
 â”£ ğŸ“‚images
 â”ƒ â”— ğŸ“‚fold1
 â”ƒ â”ƒ â”£ ğŸ“œimages.npy
 â”ƒ â”ƒ â”— ğŸ“œtypes.npy
 â”£ ğŸ“‚masks
 â”ƒ â”£ ğŸ“‚fold1
 â”ƒ â”ƒ â”— ğŸ“œmasks.npy
 â”ƒ â”£ ğŸ“œby-nc-sa.md
 â”ƒ â”— ğŸ“œREADME.md
 â”— ğŸ“œREADME.md
# Fold 2 and 3 also have similar structure
æ–¹æ³•ä¸€
å¦‚æœæ‚¨æƒ³ä½¿ç”¨å®˜æ–¹çš„åˆ†å‰²æ•°æ®ï¼Œè¯·ä»process_pannuke_std.pyç›®å½•è¿è¡Œè„šæœ¬scriptsã€‚åªéœ€æŒ‰å¦‚ä¸‹æ–¹å¼æŒ‡å®šè¾“å…¥è¾“å‡ºè·¯å¾„å³å¯ã€‚

data_dir = '../PanNuke/data/' # location to extracted folds
output_dir = '../Folds/' # location to save op data 
æ­¤è„šæœ¬å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªæŠ˜å çš„ç›®å½•ã€‚æ•°æ®å°†è½¬æ¢æ ¼å¼.npyå¹¶ä¿å­˜.pngã€‚æ¯ä¸ªæŠ˜å çš„ç»“æ„å¦‚ä¸‹ï¼š

ğŸ“¦Fold 1
 â”£ ğŸ“‚images
 â”£ ğŸ“‚inst_masks
 â”— ğŸ“‚sem_masks
æ¯ä¸ªæ–‡ä»¶å¤¹å†…çš„diræ–‡ä»¶å°†åˆ†åˆ«å‘½åä¸ºä»¥ä¸‹åç§°ï¼›

img_Colon_2_01594.png

inst_Adrenal_gland_2_01041.png

sem_Bile-duct_2_01420.png
ç¬¬ä¸€ä¸ªè¯instè¡¨ç¤ºæ­¤æ©ç åŒ…å«ä»¥è¾¹ç•Œå½¢å¼å­˜åœ¨çš„å®ä¾‹ä¿¡æ¯ã€‚
semæ„å‘³ç€å®ƒçš„è¯­ä¹‰æ©ç 
imgæŒ‡å…¶ H&E å›¾åƒ
ä¸‹ä¸€ä¸ªè¯æ˜¯Adrenal_glandç»„ç»‡ç±»å‹
nexr2è¡¨ç¤ºæ­¤å›¾åƒæ¥è‡ªåŸå§‹æ•°æ®é›†çš„ç¬¬äºŒä¸ªæŠ˜å ã€‚
æœ€åä¸€ä¸ªæ•°å­—01041ä»£è¡¨å›¾åƒç¼–å·
æ–¹æ³•äºŒ
æ­¤æ–¹æ³•ä¸­ï¼Œæˆ‘æŒ‰ç»„ç»‡ç±»å‹æ‹†åˆ†æ•°æ®é›†ã€‚å› æ­¤ï¼Œæ•°æ®å°†æ ¹æ®ç»„ç»‡ç±»å‹ä¿å­˜åœ¨ 19 ä¸ªç›®å½•ä¸­ã€‚è¦ç”Ÿæˆæ­¤æ•°æ®ï¼Œè¯·ä»process_pannuke.pyç›®å½•ä¸­è¿è¡Œè„šæœ¬scriptsã€‚åªéœ€æŒ‰å¦‚ä¸‹æ–¹å¼æŒ‡å®šè¾“å…¥/è¾“å‡ºè·¯å¾„å³å¯ã€‚

data_dir = '../PanNuke/data/' # location to extracted folds
output_dir = '../processed/' # location to save op data 
æ­¤è„šæœ¬å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ç¬¬ 19 ä¸ªå­ç›®å½•çš„ç›®å½•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

ğŸ“¦processed2
 â”£ ğŸ“‚Adrenal_gland
 â”£ ğŸ“‚Bile-duct
 â”£ ğŸ“‚Bladder
 â”£ ğŸ“‚Breast
 â”£ ğŸ“‚Cervix
 â”£ ğŸ“‚Colon
 â”£ ğŸ“‚Esophagus
 â”£ ğŸ“‚HeadNeck
 â”£ ğŸ“‚Kidney
 â”£ ğŸ“‚Liver
 â”£ ğŸ“‚Lung
 â”£ ğŸ“‚Ovarian
 â”£ ğŸ“‚Pancreatic
 â”£ ğŸ“‚Prostate
 â”£ ğŸ“‚Skin
 â”£ ğŸ“‚Stomach
 â”£ ğŸ“‚Testis
 â”£ ğŸ“‚Thyroid
 â”— ğŸ“‚Uterus
æ•°æ®å°†è¢«è½¬æ¢æ ¼å¼.npyå¹¶ä¿å­˜.pngã€‚æ¯ä¸ªç»„ç»‡ç›®å½•çš„ç»“æ„å¦‚ä¸‹ï¼š

 ğŸ“‚Uterus
 â”ƒ â”£ ğŸ“‚images
 â”ƒ â”£ ğŸ“‚inst_masks
 â”ƒ â”— ğŸ“‚sem_masks
æ–‡ä»¶å‘½åè§„åˆ™ä¸æ–¹æ³• 1 ç›¸åŒã€‚

è‡ªå®šä¹‰åˆ†å‰²
ç°åœ¨æ•°æ®å·²ä¿å­˜åˆ°ç›®å½•ä¸­ï¼Œæ‚¨å¯ä»¥å°†æ•°æ®é›†æ‹†åˆ†ä¸ºtrainã€valå’Œ ç­‰testå¤šä¸ªéƒ¨åˆ†ã€‚ä¸ºæ­¤ï¼Œè¯·è¿è¡Œ spliy_pannuke.pyscript formè„šæœ¬dir.  specify the input/output directories and the split ratio i.e. how much of the data would like to use forval andtest`ã€‚

op_dir = '../splits/' # output dir for splits
data_dir = '../processed/' # dir containing the tissue wise splits Method 2


test_split = 0.20 # 20% of total data
val_split = 0.1   # 10% of total data
ç°åœ¨å®ƒå°†op_dirå…·æœ‰ä»¥ä¸‹ç»“æ„

ğŸ“¦splits
 â”£ ğŸ“‚test
 â”ƒ â”£ ğŸ“‚images
 â”ƒ â”£ ğŸ“‚inst_masks
 â”ƒ â”— ğŸ“‚sem_masks
 â”£ ğŸ“‚train
 â”ƒ â”£ ğŸ“‚images
 â”ƒ â”£ ğŸ“‚inst_masks
 â”ƒ â”— ğŸ“‚sem_masks
 â”— ğŸ“‚val
 â”ƒ â”£ ğŸ“‚images
 â”ƒ â”£ ğŸ“‚inst_masks
 â”ƒ â”— ğŸ“‚sem_masks
æ³¨æ„ï¼šæ­¤è„šæœ¬å°†æŒ‰ç»„ç»‡ç±»å‹æ‹†åˆ†æ•°æ®ï¼Œå³æ¯ç§ç»„ç»‡ç±»å‹çš„ 10% å›¾åƒå°†ç”¨äºvalï¼Œ20% ç”¨äºtestã€‚
å¦‚æœä½¿ç”¨ä¸Šè¿°å€¼è¿è¡Œè„šæœ¬ï¼Œåˆ™æ‹†åˆ†ç»“æœå¦‚ä¸‹ï¼š

Total Images Found in Adrenal_gland  = 437
========================================
Training Images   = 314
Testing Images    = 88
Validation Images = 35
////////////////////////////////////////
Total Images Found in Bile-duct  = 420
========================================
Training Images   = 302
Testing Images    = 84
Validation Images = 34
////////////////////////////////////////
Total Images Found in Bladder  = 146
========================================
Training Images   = 104
Testing Images    = 30
Validation Images = 12
////////////////////////////////////////
Total Images Found in Breast  = 2351
========================================
Training Images   = 1692
Testing Images    = 471
Validation Images = 188
////////////////////////////////////////
Total Images Found in Cervix  = 293
========================================
Training Images   = 210
Testing Images    = 59
Validation Images = 24
////////////////////////////////////////
Total Images Found in Colon  = 1440
========================================
Training Images   = 1036
Testing Images    = 288
Validation Images = 116
////////////////////////////////////////
Total Images Found in Esophagus  = 424
========================================
Training Images   = 305
Testing Images    = 85
Validation Images = 34
////////////////////////////////////////
Total Images Found in HeadNeck  = 384
========================================
Training Images   = 276
Testing Images    = 77
Validation Images = 31
////////////////////////////////////////
Total Images Found in Kidney  = 134
========================================
Training Images   = 96
Testing Images    = 27
Validation Images = 11
////////////////////////////////////////
Total Images Found in Liver  = 224
========================================
Training Images   = 161
Testing Images    = 45
Validation Images = 18
////////////////////////////////////////
Total Images Found in Lung  = 184
========================================
Training Images   = 132
Testing Images    = 37
Validation Images = 15
////////////////////////////////////////
Total Images Found in Ovarian  = 146
========================================
Training Images   = 104
Testing Images    = 30
Validation Images = 12
////////////////////////////////////////
Total Images Found in Pancreatic  = 195
========================================
Training Images   = 140
Testing Images    = 39
Validation Images = 16
////////////////////////////////////////
Total Images Found in Prostate  = 182
========================================
Training Images   = 130
Testing Images    = 37
Validation Images = 15
////////////////////////////////////////
Total Images Found in Skin  = 187
========================================
Training Images   = 134
Testing Images    = 38
Validation Images = 15
////////////////////////////////////////
Total Images Found in Stomach  = 146
========================================
Training Images   = 104
Testing Images    = 30
Validation Images = 12
////////////////////////////////////////
Total Images Found in Testis  = 196
========================================
Training Images   = 140
Testing Images    = 40
Validation Images = 16
////////////////////////////////////////
Total Images Found in Thyroid  = 226
========================================
Training Images   = 162
Testing Images    = 46
Validation Images = 18
////////////////////////////////////////
Total Images Found in Uterus  = 186
========================================
Training Images   = 133
Testing Images    = 38
Validation Images = 15
////////////////////////////////////////